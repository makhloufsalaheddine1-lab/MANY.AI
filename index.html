<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MANY.AI | النظام التفاعلي الشامل</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Tajawal', sans-serif; background: #fdfdfd; color: #1e293b; transition: 0.5s; }
        .page { display: none; }
        .page.active { display: block; animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }
        .nav-btn.active { background: #2563eb; color: white; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2); }
        .input-focus:focus { border-color: #2563eb; ring: 2px rgba(37, 99, 235, 0.1); outline: none; }
    </style>
</head>
<body>

    <div id="registrationPage" class="page active min-h-screen flex items-center justify-center p-4">
        <div class="max-w-4xl w-full bg-white rounded-[2.5rem] shadow-2xl border flex flex-col md:flex-row overflow-hidden">
            <div class="md:w-1/3 bg-slate-900 p-10 text-white flex flex-col justify-between">
                <div>
                    <img src="1000018319.jpg" class="w-20 h-20 rounded-2xl mb-6 shadow-lg border-2 border-blue-500">
                    <h1 class="text-3xl font-black">MANY<span class="text-blue-500">.AI</span></h1>
                    <p class="text-slate-400 text-sm mt-2 font-bold uppercase tracking-widest">التسجيل الأولي</p>
                </div>
                <p class="text-xs text-slate-500 font-bold leading-relaxed">أدخل معلومات متجرك بدقة ليتم تهيئة الوكيل الذكي الخاص بك.</p>
            </div>
            
            <form onsubmit="toActivation(event)" class="md:w-2/3 p-10 grid grid-cols-1 md:grid-cols-2 gap-5">
                <div class="col-span-full mb-4"><h2 class="text-xl font-black border-r-4 border-blue-600 pr-3">بيانات التاجر المتغيرة</h2></div>
                <input type="text" id="reg_store" placeholder="اسم المحل التجاري" required class="p-4 bg-slate-50 border rounded-xl input-focus">
                <select id="reg_type" class="p-4 bg-slate-50 border rounded-xl input-focus">
                    <option value="ألبسة وأحذية">ألبسة وأحذية</option>
                    <option value="إلكترونيات وهواتف">إلكترونيات وهواتف</option>
                    <option value="مستحضرات تجميل">مستحضرات تجميل</option>
                    <option value="أدوات منزلية">أدوات منزلية</option>
                </select>
                <input type="text" id="reg_city" placeholder="الولاية" required class="p-4 bg-slate-50 border rounded-xl input-focus">
                <input type="tel" id="reg_phone" placeholder="رقم الهاتف" required class="p-4 bg-slate-50 border rounded-xl input-focus text-left">
                <input type="email" id="reg_email" placeholder="البريد الإلكتروني" required class="p-4 bg-slate-50 border rounded-xl input-focus text-left">
                <div class="col-span-full">
                    <button type="submit" class="w-full py-5 bg-blue-600 text-white rounded-2xl font-black text-lg hover:bg-blue-700 transition shadow-lg">التالي: تفعيل الاشتراك</button>
                </div>
            </form>
        </div>
    </div>

    <div id="activationPage" class="page min-h-screen flex items-center justify-center p-4">
        <div class="max-w-md w-full text-center">
            <div class="bg-white p-12 rounded-[3rem] shadow-2xl border border-blue-50">
                <div class="w-20 h-20 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-8 shadow-xl">
                    <i class="fas fa-shield-halved text-3xl"></i>
                </div>
                <h2 class="text-2xl font-black mb-2">تفعيل اشتراكك</h2>
                <p class="text-slate-400 text-sm mb-8">أدخل الكود المكون من 12 خانة لتنشيط MANY.AI</p>
                <input type="text" id="reg_code" placeholder="XXXX-XXXX-XXXX" class="w-full p-6 bg-slate-50 border-2 border-dashed rounded-2xl text-center text-3xl font-black text-blue-600 outline-none mb-8 tracking-tighter">
                <button onclick="toDashboard()" class="w-full py-5 bg-slate-900 text-white rounded-2xl font-black text-xl hover:bg-blue-600 transition shadow-xl">تفعيل ودخول اللوحة</button>
            </div>
        </div>
    </div>

    <div id="dashboardPage" class="page min-h-screen bg-slate-50">
        <header class="bg-white/80 backdrop-blur-md border-b sticky top-0 z-50 px-8 py-4 flex justify-between items-center shadow-sm">
            <div class="flex items-center gap-4">
                <img src="1000018319.jpg" class="w-12 h-12 rounded-full border-2 border-blue-600">
                <div>
                    <h2 id="dash_store" class="font-black text-slate-900 text-lg leading-tight">اسم المتجر</h2>
                    <span class="text-[9px] bg-green-500 text-white px-2 py-0.5 rounded-full font-bold uppercase">الوكيل يعمل</span>
                </div>
            </div>
            <div class="flex bg-slate-100 p-1 rounded-2xl gap-1">
                <button onclick="switchTab('overview', this)" class="nav-btn active px-6 py-2 rounded-xl text-xs font-black transition">الرئيسية</button>
                <button onclick="switchTab('stock', this)" class="nav-btn px-6 py-2 rounded-xl text-xs font-black transition">المخزون</button>
                <button onclick="switchTab('shipping', this)" class="nav-btn px-6 py-2 rounded-xl text-xs font-black transition">الشحن</button>
            </div>
            <button onclick="location.reload()" class="w-10 h-10 bg-red-50 text-red-500 rounded-full flex items-center justify-center hover:bg-red-500 hover:text-white transition"><i class="fas fa-power-off"></i></button>
        </header>

        <main class="max-w-7xl mx-auto p-8">
            
            <div id="tab_overview" class="tab-content">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-10">
                    <div class="bg-white p-6 rounded-[2rem] border shadow-sm">
                        <p class="text-[10px] font-black text-slate-400 mb-2 uppercase">الولاية الحالية</p>
                        <h3 id="dash_city" class="text-2xl font-black text-slate-800 tracking-tight">---</h3>
                    </div>
                    <div class="bg-white p-6 rounded-[2rem] border shadow-sm">
                        <p class="text-[10px] font-black text-slate-400 mb-2 uppercase">نوع النشاط</p>
                        <h3 id="dash_type" class="text-xl font-black text-blue-600 tracking-tight">---</h3>
                    </div>
                    <div class="bg-white p-6 rounded-[2rem] border shadow-sm">
                        <p class="text-[10px] font-black text-slate-400 mb-2 uppercase">رقم الهاتف</p>
                        <h3 id="dash_phone" class="text-xl font-black text-slate-800 font-mono tracking-tight">---</h3>
                    </div>
                    <div class="bg-blue-600 p-6 rounded-[2rem] text-white shadow-xl shadow-blue-100">
                        <p class="text-[10px] font-black text-blue-200 mb-2 uppercase">المبيعات اليوم</p>
                        <h3 class="text-3xl font-black">15,600 <span class="text-xs font-normal">دج</span></h3>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-slate-900 p-10 rounded-[3rem] text-white flex flex-col justify-between">
                        <h3 class="text-2xl font-black mb-4">نشاط MANY.AI</h3>
                        <p class="text-slate-400 text-sm mb-10 leading-relaxed">الوكيل يقوم الآن بمزامنة بيانات المخزون مع الطلبيات الجديدة الواردة من واتساب وماسينجر.</p>
                        <div class="flex gap-4">
                            <button class="flex-1 py-4 bg-blue-600 rounded-2xl font-black shadow-lg shadow-blue-900/40">سجل الردود</button>
                            <button class="flex-1 py-4 bg-slate-800 rounded-2xl font-black">إعدادات AI</button>
                        </div>
                    </div>
                    <div class="bg-white p-10 rounded-[3rem] border shadow-sm">
                        <h3 class="text-xl font-black mb-6">آخر تحديثات النظام</h3>
                        <div class="space-y-4">
                            <div class="p-4 bg-slate-50 rounded-2xl flex justify-between items-center">
                                <span class="text-xs font-bold">تحديث قائمة الأسعار</span>
                                <i class="fas fa-check-circle text-green-500"></i>
                            </div>
                            <div class="p-4 bg-slate-50 rounded-2xl flex justify-between items-center">
                                <span class="text-xs font-bold">ربط شركة التوصيل (Yalidine)</span>
                                <i class="fas fa-check-circle text-green-500"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tab_stock" class="tab-content hidden">
                <div class="flex justify-between items-center mb-10">
                    <h3 class="text-3xl font-black">تسيير المخزون</h3>
                    <button class="bg-blue-600 text-white px-8 py-4 rounded-2xl font-black shadow-lg">+ إضافة منتج جديد</button>
                </div>
                <div class="bg-white rounded-[2.5rem] border shadow-sm overflow-hidden">
                    <table class="w-full text-right">
                        <thead class="bg-slate-100 border-b">
                            <tr>
                                <th class="p-6 text-xs font-black text-slate-500">المنتج</th>
                                <th class="p-6 text-xs font-black text-slate-500">الكمية</th>
                                <th class="p-6 text-xs font-black text-slate-500">السعر</th>
                                <th class="p-6 text-xs font-black text-slate-500">الحالة</th>
                            </tr>
                        </thead>
                        <tbody class="text-sm">
                            <tr class="border-b">
                                <td class="p-6 font-black">ساعة ذكية Ultra</td>
                                <td class="p-6">45 قطعة</td>
                                <td class="p-6">12,500 دج</td>
                                <td class="p-6"><span class="bg-green-100 text-green-600 px-3 py-1 rounded-full text-[10px] font-black">متوفر</span></td>
                            </tr>
                            <tr class="border-b">
                                <td class="p-6 font-black">سماعات بلوتوث Pro</td>
                                <td class="p-6 text-red-500 font-black italic">03 قطع فقط</td>
                                <td class="p-6">4,800 دج</td>
                                <td class="p-6"><span class="bg-red-100 text-red-600 px-3 py-1 rounded-full text-[10px] font-black">منخفض</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="tab_shipping" class="tab-content hidden text-center py-20 bg-white rounded-[3rem] border border-dashed">
                <i class="fas fa-truck-ramp-box text-6xl text-slate-200 mb-6"></i>
                <h3 class="text-2xl font-black text-slate-800">إدارة الشحن واللوجستيك</h3>
                <p class="text-slate-400 text-sm mb-8">يتم الآن مزامنة حسابك مع شركات التوصيل الجزائرية المعتمدة.</p>
                <div class="flex justify-center gap-4">
                    <button class="bg-slate-900 text-white px-10 py-4 rounded-2xl font-black">ربط Yalidine</button>
                    <button class="bg-slate-100 text-slate-600 px-10 py-4 rounded-2xl font-black">ربط شركة أخرى</button>
                </div>
            </div>

        </main>
    </div>

    <script>
        // كائن البيانات العام لتخزين معلومات التاجر
        let merchantData = {};

        // الانتقال من التسجيل إلى التفعيل
        function toActivation(e) {
            e.preventDefault();
            merchantData = {
                store: document.getElementById('reg_store').value,
                type: document.getElementById('reg_type').value,
                city: document.getElementById('reg_city').value,
                phone: document.getElementById('reg_phone').value,
                email: document.getElementById('reg_email').value
            };
            
            document
